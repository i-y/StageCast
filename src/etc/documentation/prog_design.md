Program Design {#prog_design}
==============

The program was created with three primary goals in mind: to provide accurate and predictive statistical models to the user; to be as cross-platform as possible, able to run on Windows, Mac, and Linux without being recompiled; and, finally, to be as easy to change as possible. The work of meeting the first goal is done in the code itself and is constantly being refined. The second two goals are met through the technical and architectural choices made for the structure and nature of the program itself.

To be cross-platform the program is implemented in the Java programming language. One of the primary principles of the Java language is that it can be run without recompiling on any system which as the Java Runtime Environment (JRE) installed on in. What this means for the user is that they can put the program on a USB drive and have it run on any modern Windows, Mac, or Linux computer without further action needed on their part. In addition to the language itself, the program is made without any third-party libraries. Although this does make the code more tedious to write and understand in some places, using only the core libraries provided with the language lowers the chance that some parts of the program will operate correctly on one system but incorrectly on another. When the choice has to be made between convenience for the user or convenience for the programmer, the user always wins.

@note The JRE on the user's computer must be at least version 7 update 6 or later.

The architecture of the program is how the different parts of the code are structured and how they relate to one another. This program is designed around the Model-View-Controller architecture. In short, this means that the code is divided into three categories, the parts which output information to the user (View), the parts which describe data that is stored or manipulated by the program (Model), and the parts which actually modify the data (Controller). Each of these three types of code are separated from each other so that all the code in a particular class is concerned with a single part of the MVC process. The program operates by having the different portions communicate with each other. The View passes user requests to the Controller classes, these classes manipulate data stored in the Model classes, and then the View is updated to reflect the new state of the Model classes.

Reflecting this architectural method, the program is divided up into three packages @ref main "main", @ref data "data", and @ref windows "windows". The @ref data "data" package corresponds with the Model part of MVC and stores classes which describe the different types of data the program is expected to deal with. Although most of the classes in that package directly correspond to a program input or output, some are used for internal data storage and manipulation. The  @ref main "main" package corresponds with the Controller part of MVC and contains classes designed to handle the data manipulations. The classes contained in the main package are concerned with loading and saving data, maintaining program settings, and interacting with external programs as needed.

The @ref windows "windows" package corresponds with the View part of MVC and contains all the code for the Graphic User Interface (GUI). The program uses a library called JavaFX to create its GUI. Under this system, for each window there is an .fxml file which describes the layout of the window, and a Java class which controls the window. The .fxml format is similar to HTML and can be edited with a regular text editor. However, it is easiest to develop .fxml windows using the program Java SceneBuilder, which allows visual assembly of different graphical components. The Java class attached to the window exists primarily to handle user input to the window. If you add a button and want it to do anything, you must modify the related Java class to account for it. Because this program is driven by user inputs, the primary application logic occurs in the MainWindow class. This class controls the majority of all GUI elements the user might interact with and so contains most of the code dedicated to handling this input.

@note In the source folder there is package listed as "documentation". This package contains the markdown source code used to generate part of this documentation. For information relating to editing this documentation, see the @ref editing_doc "Guide to Editing Program Documentation".

Outside the scope of this particular piece of documentation but still of critical importance are the external R scripts. Stored in the “./Scripts” folder in the program's root directory, the R scripts are where the model itself lies. The Java program itself carries out very little mathematical operations with all statistical operations and all graphing methods living in these R scripts. R scripts are stored in plain-text and so can be edited using any text editor. They are designed to be changed and improved and, as long as the basic input and output remain the same, do not require a change to the Java code to be able to run.
